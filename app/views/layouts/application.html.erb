<!DOCTYPE html>
<html>
  <head>
    <title>Itutor</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light px-3">
      <%= link_to('Itutor', root_path, class: 'navbar-brand mx-2') %>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse d-lg-flex justify-content-end" id="navbarSupportedContent">
        <% if user_signed_in?%>
          <ul class="navbar-nav" >
            <li class="nav-item p-lg-2 d-flex align-items-center">
              Welcome, <%= current_user.name %>!
            </li>
            <li class="nav-item p-lg-2">
              <%= button_to 'Logout', destroy_user_session_path, class: 'btn btn-primary', method: :delete, form: { data: { turbo_confirm: "Are you sure you want to log out? " } } %>
            </li>
            <li class="nav-item p-lg-2">
              <%= link_to 'Schedule', bookings_path, class: 'btn btn-primary' %>
            </li>
            <li class="nav-item p-lg-2">
              <%= link_to 'Account Information', user_path(current_user), class: 'btn btn-primary' %>
            </li>
            <li class="nav-item p-lg-2">
              <%= link_to 'Watchlist', watchlist_index_path, class: 'btn btn-primary' %>
            </li>
            <li class="nav-item p-lg-2">
              <%= link_to 'Made reviews', reviews_path, class: 'btn btn-primary' %>
            </li>
            <li class="nav-item p-lg-2">
              <%= link_to 'Edit Account', edit_user_registration_path, class: 'btn btn-primary' %>
            </li>
            <li class="nav-item p-lg-2">
              <%= link_to 'Create Listing', new_listing_path, class: 'btn btn-primary' %>
            </li>
                        <li class="nav-item p-lg-2">
              <%= link_to 'Create Listing', new_listing_path, class: 'btn btn-primary' %>
            </li>
          </ul>
        <% else %>
          <div class="btn-toolbar">
            <%= link_to 'Sign Up', new_user_registration_path, class: 'btn btn-light m-1 p-lg-2 w-100' %>
          </div>
          <div class="btn-toolbar">
            <%= link_to 'Login', new_user_session_path, class: 'btn btn-light m-1 p-lg-2 w-100' %>
          </div>
        <% end %>
      </nav>
      <%= yield %>
      <% if notice %>
        <p class="alert alert-info notice" role="alert"><%= notice.html_safe %></p>
      <% end %>
      <% if alert %>
        <p class="alert alert-danger" role="alert"><%= alert.html_safe %></p>
      <% end %>
    </body>
  </html>
